generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model utilisateur {
  id              String  @id
  nom             String  @db.VarChar(50)
  nomUtilisateur  String  @unique @db.VarChar(45)
  email           String  @unique @db.VarChar(60)
  motDePasse      String  @db.VarChar(55)
  role            Json    
  contact         String  @unique @db.VarChar(45)
  addresse        String  @db.VarChar(100)
  ville           String  @db.VarChar(45)
  produits        produit[]

  @@map("utilisateurs")
}

model categorie {
  id           String @id
  nom          String @db.VarChar(45)
  description  String @db.VarChar(45)
  image        String @unique @db.VarChar(100)
  produits     produit[]

  @@map("categories")
}

model produit {
  id             String  @id
  nom            String  @db.VarChar(35)
  description    String  @db.VarChar(255)
  prix           Float
  statut         Json?
  utilisateur    utilisateur @relation(fields: [utilisateur_id], references: [id])
  utilisateur_id String
  categorie      categorie   @relation(fields: [categorie_id], references: [id])
  categorie_id   String
  images         images[]

  @@map("produits")
}

model images {
  id          String  @id
  imageUrl    String  @db.VarChar(100)
  produit     produit @relation(fields: [produit_id], references: [id])
  produit_id  String
}
